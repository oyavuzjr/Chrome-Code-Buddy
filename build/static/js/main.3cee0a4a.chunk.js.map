{"version":3,"sources":["Hooks/useWindowPosition.js","Contexts/ModalProvider.js","Components/Modal.js","App.js","index.js"],"names":["useWindowPosition","windowPosition","x","y","ModalContext","React","createContext","ModalProvider","children","useState","undefined","screenShot","setScreenShot","useEffect","video","document","getElementsByClassName","canvas","createElement","width","videoWidth","height","videoHeight","getContext","drawImage","image","download","currentTime","href","toDataURL","console","log","window","postMessage","type","myMessage","getScreenShot","addEventListener","event","Provider","value","Modal","Consumer","hasDraggedWindowPosition","handle","defaultPosition","position","id","className","style","transform","color","size","src","App","ReactDOM","render","getElementById"],"mappings":"0QAOeA,EANW,WACxB,MAAO,CACLC,eAAiB,CAAEC,EAAG,IAAKC,EAAG,OCArBC,EAAeC,IAAMC,cAAc,IAkDjCC,EAhDO,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,SACfP,EAAmBD,IAAnBC,eAD8B,EAEAQ,wBAASC,GAFT,gCAGFD,wBAASC,IAHP,mBAG/BC,EAH+B,KAGnBC,EAHmB,KAoCtC,OAPAC,qBAAU,WAERD,EAtBF,WACE,IAAIE,EAAQC,SAASC,uBAAuB,gBAAgB,GACxDC,EAASF,SAASG,cAAc,UAEpCD,EAAOE,MAAQL,EAAMM,WACrBH,EAAOI,OAASP,EAAMQ,YAERL,EAAOM,WAAW,MACxBC,UAAUV,EAAO,EAAG,EAAGG,EAAOE,MAAOF,EAAOI,QAEpD,IAAII,EAAQV,SAASG,cAAc,KAOnC,OANAO,EAAMC,SAAW,QAAUZ,EAAMa,YAAc,OAC/CF,EAAMG,KAAOX,EAAOY,UAAU,aAAc,GAC5CC,QAAQC,IAAI,SACZD,QAAQC,IAAIN,EAAMG,MAClBI,OAAOC,YAAY,CAAEC,KAAM,iBAAkBC,UAAWV,EAAMG,MAAQ,KAE/DH,EAAMG,KAKCQ,IAEdJ,OAAOK,iBAAiB,WAAW,SAAUC,SAC5C,IAGD,kBAAClC,EAAamC,SAAd,CACEC,MAAO,CACL7B,aACAV,mBAGDO,ICVQiC,EAjCD,WACZ,OACE,kBAACrC,EAAasC,SAAd,MACG,gBAAGzC,EAAH,EAAGA,eAAgB0C,EAAnB,EAAmBA,yBAA0BhC,EAA7C,EAA6CA,WAA7C,OACC,kBAAC,IAAD,CACEiC,OAAO,gBACPC,gBAAiB,CAAC3C,EAAGD,EAAeC,EAAGC,EAAGF,EAAeE,GACzD2C,SAAUH,EAA2B,CAAEzC,EAAGD,EAAeC,EAAGC,EAAGF,EAAeE,GAAM,MAEpF,yBAAK4C,GAAG,QAAQC,UAAU,eAAeC,MAAO,CAC9CC,UAAWjD,IAEX,yBAAK+C,UAAU,6BACX,oCACE,yBAAKA,UAAU,cACb,yBAAKA,UAAU,gBACb,yBAAKA,UAAU,sBACb,kBAAC,IAAD,CAAGG,MAAM,UAAUC,KAAK,SAG5B,yBAAKJ,UAAU,iBACf,yBAAKK,IAAK1C,cCVf2C,MARf,WACE,OACE,kBAAC,EAAD,KACE,kBAAC,EAAD,QCPNC,IAASC,OACP,oCACE,kBAAC,EAAD,OACGzC,SAAS0C,eAAe,kB","file":"static/js/main.3cee0a4a.chunk.js","sourcesContent":["\r\nconst useWindowPosition = () => {\r\n  return {\r\n    windowPosition:  { x: 100, y: 100 },\r\n  }\r\n};\r\n\r\nexport default useWindowPosition;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport useWindowPosition from \"../Hooks/useWindowPosition\";\r\n\r\nexport const ModalContext = React.createContext({});\r\n\r\nconst ModalProvider = ({ children }) => {\r\n  const { windowPosition } = useWindowPosition();\r\n  const [extensionId, setExtensionId] = useState(undefined);\r\n  const [screenShot, setScreenShot] = useState(undefined);\r\n\r\n  function getExtensionId() {\r\n    window.postMessage({ type: \"GET_EXTENSION_ID\" }, \"*\");\r\n  }\r\n\r\n  function getScreenShot() {\r\n    let video = document.getElementsByClassName(\"video-stream\")[0];\r\n    let canvas = document.createElement(\"canvas\");\r\n\r\n    canvas.width = video.videoWidth;\r\n    canvas.height = video.videoHeight;\r\n\r\n    let context = canvas.getContext(\"2d\");\r\n    context.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n\r\n    let image = document.createElement(\"a\");\r\n    image.download = \"snap-\" + video.currentTime + \".png\";\r\n    image.href = canvas.toDataURL(\"image/jpeg\", 1.0);\r\n    console.log(\"Baban\");\r\n    console.log(image.href);\r\n    window.postMessage({ type: \"GET_SCREENSHOT\", myMessage: image.href }, \"*\");\r\n\r\n    return image.href;\r\n  }\r\n\r\n  useEffect(() => {\r\n    // Set up event listeners from Content script\r\n    setScreenShot(getScreenShot());\r\n\r\n    window.addEventListener(\"message\", function (event) {});\r\n  }, []);\r\n\r\n  return (\r\n    <ModalContext.Provider\r\n      value={{\r\n        screenShot,\r\n        windowPosition,\r\n      }}\r\n    >\r\n      {children}\r\n    </ModalContext.Provider>\r\n  );\r\n};\r\n\r\nexport default ModalProvider;\r\n","import React from 'react';\r\nimport { X } from 'react-feather';\r\nimport Draggable from 'react-draggable';\r\nimport { ModalContext } from '../Contexts/ModalProvider';\r\n\r\nconst Modal = () => {\r\n  return (\r\n    <ModalContext.Consumer>\r\n      {({ windowPosition, hasDraggedWindowPosition, screenShot}) => (\r\n        <Draggable\r\n          handle=\".modal-handle\"\r\n          defaultPosition={{x: windowPosition.x, y: windowPosition.y}}\r\n          position={hasDraggedWindowPosition ? { x: windowPosition.x, y: windowPosition.y } : null}\r\n        >\r\n          <div id=\"modal\" className=\"modal-window\" style={{\r\n            transform: windowPosition,\r\n        }}>\r\n            <div className=\"modal-window-inner-border\">\r\n                <>\r\n                  <div className=\"modal-body\">\r\n                    <div className=\"modal-handle\">\r\n                      <div className=\"modal-close-button\">\r\n                        <X color=\"#5d6484\" size=\"14\" />\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"modal-content\">\r\n                    <img src={screenShot}/>\r\n                    </div>\r\n                  </div>\r\n                </>\r\n              </div>\r\n          </div>\r\n        </Draggable>\r\n      )}\r\n    </ModalContext.Consumer>\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport './App.css';\r\nimport Modal from './Components/Modal';\r\nimport ModalProvider from './Contexts/ModalProvider';\r\n\r\n/**\r\n * @return {null}\r\n */\r\nfunction App() {\r\n  return (\r\n    <ModalProvider>\r\n      <Modal />\r\n    </ModalProvider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n  <>\r\n    <App />\r\n  </>, document.getElementById('modal-window'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\n// serviceWorker.unregister();\r\n"],"sourceRoot":""}